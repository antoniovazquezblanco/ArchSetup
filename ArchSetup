#!/usr/bin/env python
# -*- coding: utf-8 -*-
#
# This file is part of ArchSetup.
#
# ArchSetup is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# ArchSetup is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with ArchSetup.  If not, see <http://www.gnu.org/licenses/>.

import logging
from SetupTools import SetupTools
from Interface.Interface import Interface
from Interface.SetupWindow import SetupWindow
from Interface.TextWidget import TextWidget

class ArchSetup:
    def __init__(self):
        logging.basicConfig(filename='ArchSetup.log', level=logging.DEBUG)
        self.setuptools = SetupTools()
        self.interface = Interface(self.callback)
        self.interface.loop()

    def callback(self, event):
        if event == 'init':
            welcome = SetupWindow()
            welcome.addwidget(TextWidget(1, 1, 'Welcome to the Archlinux installer!',  40))
            welcome.addwidget(TextWidget(3, 1, 'In order to navigate use the TAB key and press ENTER in order to activate the selected widget.', 40))
            welcome.setnextcallback(self.callback, 'next')
            self.interface.addwin(welcome)
        elif event == 'prev':
            logging.debug('ArchSetup.callback(event=prev)')
        elif event == 'next':
            logging.debug('ArchSetup.callback(event=next)')
        elif event == ord('q'):
            self.interface.exit()


if __name__ == "__main__":
	ArchSetup()
